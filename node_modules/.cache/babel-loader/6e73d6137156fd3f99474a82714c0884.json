{"ast":null,"code":"import { _ as _objectWithoutPropertiesLoose } from './_rollupPluginBabelHelpers-2cac7098.js';\nimport IMask from 'imask/esm/imask';\nimport { useRef, useState, useCallback, useEffect } from 'react';\nconst _excluded = [\"value\"],\n      _excluded2 = [\"unmaskedValue\"],\n      _excluded3 = [\"typedValue\"];\n\nfunction useIMask(opts) {\n  let {\n    onAccept,\n    onComplete\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const ref = useRef(null);\n  const maskRef = useRef(null);\n  const [initialized, setInitialized] = useState(false);\n  const [lastAcceptState, setLastAcceptState] = useState({});\n  const [value, setValue] = useState('');\n  const [unmaskedValue, setUnmaskedValue] = useState('');\n  const [typedValue, setTypedValue] = useState();\n\n  const _destroyMask = useCallback(() => {\n    var _maskRef$current;\n\n    (_maskRef$current = maskRef.current) === null || _maskRef$current === void 0 ? void 0 : _maskRef$current.destroy();\n    maskRef.current = null;\n  }, []);\n\n  const _onAccept = useCallback(event => {\n    const m = maskRef.current;\n    if (!m) return;\n    setLastAcceptState({\n      value: m.value,\n      unmaskedValue: m.unmaskedValue,\n      typedValue: m.typedValue\n    });\n    setTypedValue(m.typedValue);\n    setUnmaskedValue(m.unmaskedValue);\n    setValue(m.value);\n    onAccept === null || onAccept === void 0 ? void 0 : onAccept(m.value, m, event);\n  }, [onAccept]);\n\n  const _onComplete = useCallback(() => maskRef.current && (onComplete === null || onComplete === void 0 ? void 0 : onComplete(maskRef.current.value, maskRef.current)), [onComplete]);\n\n  useEffect(() => {\n    const el = ref.current;\n    if (!el || !(opts !== null && opts !== void 0 && opts.mask)) return _destroyMask();\n    const mask = maskRef.current;\n\n    if (!mask) {\n      if (el && opts !== null && opts !== void 0 && opts.mask) {\n        maskRef.current = IMask(el, opts);\n\n        _onAccept();\n      }\n    } else {\n      mask === null || mask === void 0 ? void 0 : mask.updateOptions(opts);\n    }\n\n    setInitialized(Boolean(maskRef.current));\n  }, [opts, _destroyMask, _onAccept]);\n  useEffect(() => {\n    if (!maskRef.current) return;\n    const mask = maskRef.current;\n    mask.on('accept', _onAccept);\n    mask.on('complete', _onComplete);\n    return () => {\n      mask.off('accept', _onAccept);\n      mask.off('complete', _onComplete);\n    };\n  }, [_onAccept, _onComplete]);\n  useEffect(() => {\n    const {\n      value: lastAcceptValue\n    } = lastAcceptState,\n          state = _objectWithoutPropertiesLoose(lastAcceptState, _excluded);\n\n    const mask = maskRef.current;\n    if (mask && initialized && lastAcceptValue !== value) mask.value = value;\n    setLastAcceptState(state);\n  }, [value]);\n  useEffect(() => {\n    const {\n      unmaskedValue: lastAcceptUnmaskedValue\n    } = lastAcceptState,\n          state = _objectWithoutPropertiesLoose(lastAcceptState, _excluded2);\n\n    const mask = maskRef.current;\n    if (mask && initialized && lastAcceptUnmaskedValue !== unmaskedValue) mask.unmaskedValue = unmaskedValue;\n    setLastAcceptState(state);\n  }, [unmaskedValue]);\n  useEffect(() => {\n    const {\n      typedValue: lastAcceptTypedValue\n    } = lastAcceptState,\n          state = _objectWithoutPropertiesLoose(lastAcceptState, _excluded3);\n\n    const mask = maskRef.current;\n    if (mask && initialized && lastAcceptTypedValue !== typedValue) mask.typedValue = typedValue;\n    setLastAcceptState(state);\n  }, [typedValue]);\n  useEffect(() => _destroyMask, [_destroyMask]);\n  return {\n    ref,\n    maskRef,\n    value,\n    setValue,\n    unmaskedValue,\n    setUnmaskedValue,\n    typedValue,\n    setTypedValue\n  };\n}\n\nexport { useIMask as default };","map":{"version":3,"sources":["C:/Programacao/CCB/Web/node_modules/react-imask/esm/hook.js"],"names":["_","_objectWithoutPropertiesLoose","IMask","useRef","useState","useCallback","useEffect","_excluded","_excluded2","_excluded3","useIMask","opts","onAccept","onComplete","arguments","length","undefined","ref","maskRef","initialized","setInitialized","lastAcceptState","setLastAcceptState","value","setValue","unmaskedValue","setUnmaskedValue","typedValue","setTypedValue","_destroyMask","_maskRef$current","current","destroy","_onAccept","event","m","_onComplete","el","mask","updateOptions","Boolean","on","off","lastAcceptValue","state","lastAcceptUnmaskedValue","lastAcceptTypedValue","default"],"mappings":"AAAA,SAASA,CAAC,IAAIC,6BAAd,QAAmD,yCAAnD;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,SAASC,MAAT,EAAiBC,QAAjB,EAA2BC,WAA3B,EAAwCC,SAAxC,QAAyD,OAAzD;AAEA,MAAMC,SAAS,GAAG,CAAC,OAAD,CAAlB;AAAA,MACEC,UAAU,GAAG,CAAC,eAAD,CADf;AAAA,MAEEC,UAAU,GAAG,CAAC,YAAD,CAFf;;AAGA,SAASC,QAAT,CAAkBC,IAAlB,EAAwB;AACtB,MAAI;AACFC,IAAAA,QADE;AAEFC,IAAAA;AAFE,MAGAC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAHxE;AAIA,QAAMG,GAAG,GAAGd,MAAM,CAAC,IAAD,CAAlB;AACA,QAAMe,OAAO,GAAGf,MAAM,CAAC,IAAD,CAAtB;AACA,QAAM,CAACgB,WAAD,EAAcC,cAAd,IAAgChB,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAM,CAACiB,eAAD,EAAkBC,kBAAlB,IAAwClB,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAACmB,KAAD,EAAQC,QAAR,IAAoBpB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACqB,aAAD,EAAgBC,gBAAhB,IAAoCtB,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACuB,UAAD,EAAaC,aAAb,IAA8BxB,QAAQ,EAA5C;;AACA,QAAMyB,YAAY,GAAGxB,WAAW,CAAC,MAAM;AACrC,QAAIyB,gBAAJ;;AACA,KAACA,gBAAgB,GAAGZ,OAAO,CAACa,OAA5B,MAAyC,IAAzC,IAAiDD,gBAAgB,KAAK,KAAK,CAA3E,GAA+E,KAAK,CAApF,GAAwFA,gBAAgB,CAACE,OAAjB,EAAxF;AACAd,IAAAA,OAAO,CAACa,OAAR,GAAkB,IAAlB;AACD,GAJ+B,EAI7B,EAJ6B,CAAhC;;AAKA,QAAME,SAAS,GAAG5B,WAAW,CAAC6B,KAAK,IAAI;AACrC,UAAMC,CAAC,GAAGjB,OAAO,CAACa,OAAlB;AACA,QAAI,CAACI,CAAL,EAAQ;AACRb,IAAAA,kBAAkB,CAAC;AACjBC,MAAAA,KAAK,EAAEY,CAAC,CAACZ,KADQ;AAEjBE,MAAAA,aAAa,EAAEU,CAAC,CAACV,aAFA;AAGjBE,MAAAA,UAAU,EAAEQ,CAAC,CAACR;AAHG,KAAD,CAAlB;AAKAC,IAAAA,aAAa,CAACO,CAAC,CAACR,UAAH,CAAb;AACAD,IAAAA,gBAAgB,CAACS,CAAC,CAACV,aAAH,CAAhB;AACAD,IAAAA,QAAQ,CAACW,CAAC,CAACZ,KAAH,CAAR;AACAX,IAAAA,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAK,KAAK,CAAvC,GAA2C,KAAK,CAAhD,GAAoDA,QAAQ,CAACuB,CAAC,CAACZ,KAAH,EAAUY,CAAV,EAAaD,KAAb,CAA5D;AACD,GAZ4B,EAY1B,CAACtB,QAAD,CAZ0B,CAA7B;;AAaA,QAAMwB,WAAW,GAAG/B,WAAW,CAAC,MAAMa,OAAO,CAACa,OAAR,KAAoBlB,UAAU,KAAK,IAAf,IAAuBA,UAAU,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,UAAU,CAACK,OAAO,CAACa,OAAR,CAAgBR,KAAjB,EAAwBL,OAAO,CAACa,OAAhC,CAAtF,CAAP,EAAwI,CAAClB,UAAD,CAAxI,CAA/B;;AACAP,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM+B,EAAE,GAAGpB,GAAG,CAACc,OAAf;AACA,QAAI,CAACM,EAAD,IAAO,EAAE1B,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,IAAoCA,IAAI,CAAC2B,IAA3C,CAAX,EAA6D,OAAOT,YAAY,EAAnB;AAC7D,UAAMS,IAAI,GAAGpB,OAAO,CAACa,OAArB;;AACA,QAAI,CAACO,IAAL,EAAW;AACT,UAAID,EAAE,IAAI1B,IAAI,KAAK,IAAf,IAAuBA,IAAI,KAAK,KAAK,CAArC,IAA0CA,IAAI,CAAC2B,IAAnD,EAAyD;AACvDpB,QAAAA,OAAO,CAACa,OAAR,GAAkB7B,KAAK,CAACmC,EAAD,EAAK1B,IAAL,CAAvB;;AACAsB,QAAAA,SAAS;AACV;AACF,KALD,MAKO;AACLK,MAAAA,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACC,aAAL,CAAmB5B,IAAnB,CAA5C;AACD;;AACDS,IAAAA,cAAc,CAACoB,OAAO,CAACtB,OAAO,CAACa,OAAT,CAAR,CAAd;AACD,GAbQ,EAaN,CAACpB,IAAD,EAAOkB,YAAP,EAAqBI,SAArB,CAbM,CAAT;AAcA3B,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACY,OAAO,CAACa,OAAb,EAAsB;AACtB,UAAMO,IAAI,GAAGpB,OAAO,CAACa,OAArB;AACAO,IAAAA,IAAI,CAACG,EAAL,CAAQ,QAAR,EAAkBR,SAAlB;AACAK,IAAAA,IAAI,CAACG,EAAL,CAAQ,UAAR,EAAoBL,WAApB;AACA,WAAO,MAAM;AACXE,MAAAA,IAAI,CAACI,GAAL,CAAS,QAAT,EAAmBT,SAAnB;AACAK,MAAAA,IAAI,CAACI,GAAL,CAAS,UAAT,EAAqBN,WAArB;AACD,KAHD;AAID,GATQ,EASN,CAACH,SAAD,EAAYG,WAAZ,CATM,CAAT;AAUA9B,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM;AACFiB,MAAAA,KAAK,EAAEoB;AADL,QAEAtB,eAFN;AAAA,UAGEuB,KAAK,GAAG3C,6BAA6B,CAACoB,eAAD,EAAkBd,SAAlB,CAHvC;;AAIA,UAAM+B,IAAI,GAAGpB,OAAO,CAACa,OAArB;AACA,QAAIO,IAAI,IAAInB,WAAR,IAAuBwB,eAAe,KAAKpB,KAA/C,EAAsDe,IAAI,CAACf,KAAL,GAAaA,KAAb;AACtDD,IAAAA,kBAAkB,CAACsB,KAAD,CAAlB;AACD,GARQ,EAQN,CAACrB,KAAD,CARM,CAAT;AASAjB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM;AACFmB,MAAAA,aAAa,EAAEoB;AADb,QAEAxB,eAFN;AAAA,UAGEuB,KAAK,GAAG3C,6BAA6B,CAACoB,eAAD,EAAkBb,UAAlB,CAHvC;;AAIA,UAAM8B,IAAI,GAAGpB,OAAO,CAACa,OAArB;AACA,QAAIO,IAAI,IAAInB,WAAR,IAAuB0B,uBAAuB,KAAKpB,aAAvD,EAAsEa,IAAI,CAACb,aAAL,GAAqBA,aAArB;AACtEH,IAAAA,kBAAkB,CAACsB,KAAD,CAAlB;AACD,GARQ,EAQN,CAACnB,aAAD,CARM,CAAT;AASAnB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM;AACFqB,MAAAA,UAAU,EAAEmB;AADV,QAEAzB,eAFN;AAAA,UAGEuB,KAAK,GAAG3C,6BAA6B,CAACoB,eAAD,EAAkBZ,UAAlB,CAHvC;;AAIA,UAAM6B,IAAI,GAAGpB,OAAO,CAACa,OAArB;AACA,QAAIO,IAAI,IAAInB,WAAR,IAAuB2B,oBAAoB,KAAKnB,UAApD,EAAgEW,IAAI,CAACX,UAAL,GAAkBA,UAAlB;AAChEL,IAAAA,kBAAkB,CAACsB,KAAD,CAAlB;AACD,GARQ,EAQN,CAACjB,UAAD,CARM,CAAT;AASArB,EAAAA,SAAS,CAAC,MAAMuB,YAAP,EAAqB,CAACA,YAAD,CAArB,CAAT;AACA,SAAO;AACLZ,IAAAA,GADK;AAELC,IAAAA,OAFK;AAGLK,IAAAA,KAHK;AAILC,IAAAA,QAJK;AAKLC,IAAAA,aALK;AAMLC,IAAAA,gBANK;AAOLC,IAAAA,UAPK;AAQLC,IAAAA;AARK,GAAP;AAUD;;AAED,SAASlB,QAAQ,IAAIqC,OAArB","sourcesContent":["import { _ as _objectWithoutPropertiesLoose } from './_rollupPluginBabelHelpers-2cac7098.js';\nimport IMask from 'imask/esm/imask';\nimport { useRef, useState, useCallback, useEffect } from 'react';\n\nconst _excluded = [\"value\"],\n  _excluded2 = [\"unmaskedValue\"],\n  _excluded3 = [\"typedValue\"];\nfunction useIMask(opts) {\n  let {\n    onAccept,\n    onComplete\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const ref = useRef(null);\n  const maskRef = useRef(null);\n  const [initialized, setInitialized] = useState(false);\n  const [lastAcceptState, setLastAcceptState] = useState({});\n  const [value, setValue] = useState('');\n  const [unmaskedValue, setUnmaskedValue] = useState('');\n  const [typedValue, setTypedValue] = useState();\n  const _destroyMask = useCallback(() => {\n    var _maskRef$current;\n    (_maskRef$current = maskRef.current) === null || _maskRef$current === void 0 ? void 0 : _maskRef$current.destroy();\n    maskRef.current = null;\n  }, []);\n  const _onAccept = useCallback(event => {\n    const m = maskRef.current;\n    if (!m) return;\n    setLastAcceptState({\n      value: m.value,\n      unmaskedValue: m.unmaskedValue,\n      typedValue: m.typedValue\n    });\n    setTypedValue(m.typedValue);\n    setUnmaskedValue(m.unmaskedValue);\n    setValue(m.value);\n    onAccept === null || onAccept === void 0 ? void 0 : onAccept(m.value, m, event);\n  }, [onAccept]);\n  const _onComplete = useCallback(() => maskRef.current && (onComplete === null || onComplete === void 0 ? void 0 : onComplete(maskRef.current.value, maskRef.current)), [onComplete]);\n  useEffect(() => {\n    const el = ref.current;\n    if (!el || !(opts !== null && opts !== void 0 && opts.mask)) return _destroyMask();\n    const mask = maskRef.current;\n    if (!mask) {\n      if (el && opts !== null && opts !== void 0 && opts.mask) {\n        maskRef.current = IMask(el, opts);\n        _onAccept();\n      }\n    } else {\n      mask === null || mask === void 0 ? void 0 : mask.updateOptions(opts);\n    }\n    setInitialized(Boolean(maskRef.current));\n  }, [opts, _destroyMask, _onAccept]);\n  useEffect(() => {\n    if (!maskRef.current) return;\n    const mask = maskRef.current;\n    mask.on('accept', _onAccept);\n    mask.on('complete', _onComplete);\n    return () => {\n      mask.off('accept', _onAccept);\n      mask.off('complete', _onComplete);\n    };\n  }, [_onAccept, _onComplete]);\n  useEffect(() => {\n    const {\n        value: lastAcceptValue\n      } = lastAcceptState,\n      state = _objectWithoutPropertiesLoose(lastAcceptState, _excluded);\n    const mask = maskRef.current;\n    if (mask && initialized && lastAcceptValue !== value) mask.value = value;\n    setLastAcceptState(state);\n  }, [value]);\n  useEffect(() => {\n    const {\n        unmaskedValue: lastAcceptUnmaskedValue\n      } = lastAcceptState,\n      state = _objectWithoutPropertiesLoose(lastAcceptState, _excluded2);\n    const mask = maskRef.current;\n    if (mask && initialized && lastAcceptUnmaskedValue !== unmaskedValue) mask.unmaskedValue = unmaskedValue;\n    setLastAcceptState(state);\n  }, [unmaskedValue]);\n  useEffect(() => {\n    const {\n        typedValue: lastAcceptTypedValue\n      } = lastAcceptState,\n      state = _objectWithoutPropertiesLoose(lastAcceptState, _excluded3);\n    const mask = maskRef.current;\n    if (mask && initialized && lastAcceptTypedValue !== typedValue) mask.typedValue = typedValue;\n    setLastAcceptState(state);\n  }, [typedValue]);\n  useEffect(() => _destroyMask, [_destroyMask]);\n  return {\n    ref,\n    maskRef,\n    value,\n    setValue,\n    unmaskedValue,\n    setUnmaskedValue,\n    typedValue,\n    setTypedValue\n  };\n}\n\nexport { useIMask as default };\n"]},"metadata":{},"sourceType":"module"}