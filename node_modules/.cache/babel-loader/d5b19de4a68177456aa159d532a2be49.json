{"ast":null,"code":"var _jsxFileName = \"C:\\\\Programacao\\\\CCB\\\\Web\\\\src\\\\pages\\\\home\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport Navbar from '../../components/navbar';\nimport Categoria from \"../../components/categoria\";\nimport Banner from \"../../components/banner\";\nimport Estabelecimento from \"../../components/estabelecimento\";\nimport Footer from \"../../components/footer\";\nimport api from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  const [categorias, setCategorias] = useState([]);\n  const [banners, setBanners] = useState([]);\n  const [grupos, setGrupos] = useState([]);\n  const [destaques, setDestaques] = useState([]);\n  useEffect(() => {\n    api.get('v1/categorias?cod_cidade=' + localStorage.getItem('sessionCodCidade')).then(response => {\n      setCategorias(response.data);\n    }).catch(err => {\n      console.log(err);\n    });\n    api.get('v1/banners?cod_cidade=' + localStorage.getItem('sessionCodCidade')).then(response => {\n      setBanners(response.data);\n    }).catch(err => {\n      console.log(err);\n    });\n    api.get('v1/destaques?cod_cidade=' + localStorage.getItem('sessionCodCidade')).then(response => {\n      // [\"Pra Você\", \"Pra Você\", \"Pra Você\", \"Entrega Grátis\", \"Entrega Grátis\"]\n      // [\"Pra Você\", \"Entrega Grátis\"]\n\n      /*\r\n      [ \r\n          \"Destaques: Pra Você\",     0\r\n          \"Destaques: Pra Você\",     1\r\n          \"Destaques: Pra Você\",     2\r\n          \"Entrega Grátis\",          3\r\n          \"Entrega Grátis\"           4\r\n      ]\r\n      */\n      let gruposUnico = response.data.map(grupo => grupo.descricao);\n      gruposUnico = gruposUnico.filter((itemArray, i, arrayCompleto) => {\n        return arrayCompleto.indexOf(itemArray) === i;\n      });\n      setGrupos(gruposUnico);\n      setDestaques(response.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid mt-page\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center text-center\",\n        children: categorias.map(categoria => {\n          return /*#__PURE__*/_jsxDEV(Categoria, {\n            url_imagem: categoria.foto,\n            descricao: categoria.categoria,\n            id_categoria: categoria.id_categoria\n          }, categoria.id_categoria, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 32\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center text-center mt-5 m-2\",\n        children: banners.map(banner => {\n          return /*#__PURE__*/_jsxDEV(Banner, {\n            url_imagem: banner.foto,\n            descricao: banner.descricao,\n            id_banner: banner.id_banner\n          }, banner.id_banner, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 32\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this), grupos.map(grupo => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row mt-5 m-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: grupo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), destaques.map(destaque => {\n            return destaque.descricao === grupo ? /*#__PURE__*/_jsxDEV(Estabelecimento, {\n              url_imagem: destaque.url_logo,\n              nome: destaque.nome,\n              avaliacao: destaque.avaliacao,\n              categoria: destaque.categoria,\n              id_estabelecimento: destaque.id_estabelecimento\n            }, destaque.id_estabelecimento, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 33\n            }, this) : null;\n          })]\n        }, grupo, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 28\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(Home, \"s/hqQdx4FWqVL/GnzL7rStCfRMc=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Programacao/CCB/Web/src/pages/home/index.jsx"],"names":["useEffect","useState","Navbar","Categoria","Banner","Estabelecimento","Footer","api","Home","categorias","setCategorias","banners","setBanners","grupos","setGrupos","destaques","setDestaques","get","localStorage","getItem","then","response","data","catch","err","console","log","gruposUnico","map","grupo","descricao","filter","itemArray","i","arrayCompleto","indexOf","categoria","foto","id_categoria","banner","id_banner","destaque","url_logo","nome","avaliacao","id_estabelecimento"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,eAAP,MAA4B,kCAA5B;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,GAAP,MAAgB,oBAAhB;;;;AAEA,SAASC,IAAT,GAAe;AAAA;;AAEX,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACY,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACc,SAAD,EAAYC,YAAZ,IAA4Bf,QAAQ,CAAC,EAAD,CAA1C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZO,IAAAA,GAAG,CAACU,GAAJ,CAAQ,8BAA8BC,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAAtC,EACCC,IADD,CACMC,QAAQ,IAAI;AACdX,MAAAA,aAAa,CAACW,QAAQ,CAACC,IAAV,CAAb;AACH,KAHD,EAICC,KAJD,CAIOC,GAAG,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAND;AAQAjB,IAAAA,GAAG,CAACU,GAAJ,CAAQ,2BAA2BC,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAAnC,EACCC,IADD,CACMC,QAAQ,IAAI;AACdT,MAAAA,UAAU,CAACS,QAAQ,CAACC,IAAV,CAAV;AACH,KAHD,EAICC,KAJD,CAIOC,GAAG,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAND;AAQAjB,IAAAA,GAAG,CAACU,GAAJ,CAAQ,6BAA6BC,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAArC,EACCC,IADD,CACMC,QAAQ,IAAI;AAEd;AACA;;AAEA;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEY,UAAIM,WAAW,GAAGN,QAAQ,CAACC,IAAT,CAAcM,GAAd,CAAkBC,KAAK,IAAIA,KAAK,CAACC,SAAjC,CAAlB;AAEAH,MAAAA,WAAW,GAAGA,WAAW,CAACI,MAAZ,CAAmB,CAACC,SAAD,EAAYC,CAAZ,EAAeC,aAAf,KAAiC;AAC9D,eAAOA,aAAa,CAACC,OAAd,CAAsBH,SAAtB,MAAqCC,CAA5C;AACH,OAFa,CAAd;AAIAnB,MAAAA,SAAS,CAACa,WAAD,CAAT;AACAX,MAAAA,YAAY,CAACK,QAAQ,CAACC,IAAV,CAAZ;AAEH,KAzBD,EA0BCC,KA1BD,CA0BOC,GAAG,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KA5BD;AA6BH,GA9CQ,EA8CN,EA9CM,CAAT;AAgDA,sBAAO;AAAA,2BACH;AAAK,MAAA,SAAS,EAAC,yBAAf;AAAA,8BACI,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cADJ,eAGI;AAAK,QAAA,SAAS,EAAC,wCAAf;AAAA,kBAEQf,UAAU,CAACmB,GAAX,CAAeQ,SAAS,IAAI;AACxB,8BAAO,QAAC,SAAD;AACC,YAAA,UAAU,EAAEA,SAAS,CAACC,IADvB;AAEC,YAAA,SAAS,EAAED,SAAS,CAACA,SAFtB;AAGC,YAAA,YAAY,EAAEA,SAAS,CAACE;AAHzB,aAAgBF,SAAS,CAACE,YAA1B;AAAA;AAAA;AAAA;AAAA,kBAAP;AAIH,SALD;AAFR;AAAA;AAAA;AAAA;AAAA,cAHJ,eAcI;AAAK,QAAA,SAAS,EAAC,iDAAf;AAAA,kBAEQ3B,OAAO,CAACiB,GAAR,CAAYW,MAAM,IAAI;AAClB,8BAAO,QAAC,MAAD;AACQ,YAAA,UAAU,EAAEA,MAAM,CAACF,IAD3B;AAEQ,YAAA,SAAS,EAAEE,MAAM,CAACT,SAF1B;AAGQ,YAAA,SAAS,EAAES,MAAM,CAACC;AAH1B,aAAaD,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA,kBAAP;AAIH,SALD;AAFR;AAAA;AAAA;AAAA;AAAA,cAdJ,EA0BQ3B,MAAM,CAACe,GAAP,CAAWC,KAAK,IAAI;AAChB,4BAAO;AAAiB,UAAA,SAAS,EAAC,cAA3B;AAAA,kCACH;AAAA,sBAAKA;AAAL;AAAA;AAAA;AAAA;AAAA,kBADG,EAIHd,SAAS,CAACa,GAAV,CAAca,QAAQ,IAAI;AACvB,mBAAOA,QAAQ,CAACX,SAAT,KAAuBD,KAAvB,gBACF,QAAC,eAAD;AAEI,cAAA,UAAU,EAAEY,QAAQ,CAACC,QAFzB;AAGI,cAAA,IAAI,EAAGD,QAAQ,CAACE,IAHpB;AAII,cAAA,SAAS,EAAEF,QAAQ,CAACG,SAJxB;AAKI,cAAA,SAAS,EAAEH,QAAQ,CAACL,SALxB;AAMI,cAAA,kBAAkB,EAAEK,QAAQ,CAACI;AANjC,eACSJ,QAAQ,CAACI,kBADlB;AAAA;AAAA;AAAA;AAAA,oBADE,GAOwD,IAP/D;AAQF,WATD,CAJG;AAAA,WAAUhB,KAAV;AAAA;AAAA;AAAA;AAAA,gBAAP;AAkBH,OAnBD,CA1BR,eAgDI,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cAhDJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADG,mBAAP;AAuDH;;GA9GQrB,I;;KAAAA,I;AAgHT,eAAeA,IAAf","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Navbar from '../../components/navbar';\r\nimport Categoria from \"../../components/categoria\";\r\nimport Banner from \"../../components/banner\";\r\nimport Estabelecimento from \"../../components/estabelecimento\";\r\nimport Footer from \"../../components/footer\";\r\nimport api from '../../services/api';\r\n\r\nfunction Home(){\r\n\r\n    const [categorias, setCategorias] = useState([]);\r\n    const [banners, setBanners] = useState([]);\r\n    const [grupos, setGrupos] = useState([]);\r\n    const [destaques, setDestaques] = useState([]);    \r\n    \r\n    useEffect(() => {\r\n        api.get('v1/categorias?cod_cidade=' + localStorage.getItem('sessionCodCidade'))\r\n        .then(response => {\r\n            setCategorias(response.data);\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n\r\n        api.get('v1/banners?cod_cidade=' + localStorage.getItem('sessionCodCidade'))\r\n        .then(response => {\r\n            setBanners(response.data);\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n\r\n        api.get('v1/destaques?cod_cidade=' + localStorage.getItem('sessionCodCidade'))\r\n        .then(response => {\r\n\r\n            // [\"Pra Você\", \"Pra Você\", \"Pra Você\", \"Entrega Grátis\", \"Entrega Grátis\"]\r\n            // [\"Pra Você\", \"Entrega Grátis\"]\r\n\r\n            /*\r\n            [ \r\n                \"Destaques: Pra Você\",     0\r\n                \"Destaques: Pra Você\",     1\r\n                \"Destaques: Pra Você\",     2\r\n                \"Entrega Grátis\",          3\r\n                \"Entrega Grátis\"           4\r\n            ]\r\n            */\r\n\r\n            let gruposUnico = response.data.map(grupo => grupo.descricao);\r\n\r\n            gruposUnico = gruposUnico.filter((itemArray, i, arrayCompleto) => {\r\n                return arrayCompleto.indexOf(itemArray) === i;\r\n            });\r\n                 \r\n            setGrupos(gruposUnico);\r\n            setDestaques(response.data);\r\n            \r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }, []);\r\n\r\n    return <>\r\n        <div className=\"container-fluid mt-page\">\r\n            <Navbar />\r\n\r\n            <div className=\"row justify-content-center text-center\">                \r\n                {                    \r\n                    categorias.map(categoria => {\r\n                        return <Categoria key={categoria.id_categoria} \r\n                                url_imagem={categoria.foto}\r\n                                descricao={categoria.categoria}\r\n                                id_categoria={categoria.id_categoria} />\r\n                    })\r\n                }\r\n            </div>\r\n\r\n            <div className=\"row justify-content-center text-center mt-5 m-2\">\r\n                {\r\n                    banners.map(banner => {\r\n                        return <Banner key={banner.id_banner} \r\n                                       url_imagem={banner.foto}\r\n                                       descricao={banner.descricao}\r\n                                       id_banner={banner.id_banner} />\r\n                    })\r\n                }\r\n            </div>\r\n\r\n            {\r\n                grupos.map(grupo => {\r\n                    return <div key={grupo} className=\"row mt-5 m-2\">\r\n                        <h4>{grupo}</h4>\r\n                        \r\n                    {\r\n                        destaques.map(destaque => {\r\n                           return destaque.descricao === grupo ?\r\n                                <Estabelecimento \r\n                                    key={destaque.id_estabelecimento}\r\n                                    url_imagem={destaque.url_logo}\r\n                                    nome ={destaque.nome}\r\n                                    avaliacao={destaque.avaliacao}\r\n                                    categoria={destaque.categoria}\r\n                                    id_estabelecimento={destaque.id_estabelecimento} /> : null\r\n                        })\r\n                    }\r\n\r\n                </div>\r\n\r\n                })\r\n            }\r\n\r\n            <Footer />\r\n\r\n        </div>\r\n        \r\n    </>\r\n    \r\n}\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}