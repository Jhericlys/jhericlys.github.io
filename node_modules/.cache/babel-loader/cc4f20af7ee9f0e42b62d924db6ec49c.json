{"ast":null,"code":"var _jsxFileName = \"C:\\\\Programacao\\\\CCB\\\\Web\\\\src\\\\pages\\\\perfil\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport Navbar from \"../../components/navbar\";\nimport api from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Perfil() {\n  _s();\n\n  const [nome, setNome] = useState('');\n  const [email, setEmail] = useState('');\n  const [msg, setMsg] = useState('');\n  const [erro, setErro] = useState('');\n\n  function ExibeMsg() {\n    setMsg('Dados alterados com sucesso');\n    setTimeout(() => setMsg(''), 3000);\n  }\n\n  function ExibeErro(str) {\n    setErro(str);\n    setTimeout(() => setErro(''), 5000);\n  }\n\n  function SalvarDados() {\n    api.patch('/v1/usuarios', {\n      nome,\n      email\n    }).then(response => {\n      ExibeMsg();\n    }).catch(err => {\n      if (err.response) {\n        ExibeErro(err.response.data.erro);\n      } else {\n        ExibeErro('Ocorreu um erro na requisição.');\n      }\n    });\n  }\n\n  useEffect(() => {\n    api.get(`/v1/usuarios/${localStorage.getItem(\"sessionId\")}`).then(response => {\n      setNome(response.data[0].nome);\n      setEmail(response.data[0].email);\n    }).catch(err => console.log(err));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid mt-page\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row col-lg-6 offset-lg-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row m-2\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Meu Perfil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row col-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row m-2\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"InputNome\",\n                className: \"form-label\",\n                children: \"Nome\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                onChange: e => setNome(e.target.value),\n                value: nome,\n                className: \"form-control\",\n                id: \"InputNome\",\n                \"aria-describedby\": \"nome\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"InputEmail\",\n                className: \"form-label\",\n                children: \"E-mail\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                onChange: e => setEmail(e.target.value),\n                value: email,\n                className: \"form-control\",\n                id: \"InputEmail\",\n                \"aria-describedby\": \"email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-end\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: SalvarDados,\n                className: \"btn btn-lg btn-danger\",\n                children: \"Salvar Dados\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 25\n            }, this), msg.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-success mt-4 text-center\",\n              children: msg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 46\n            }, this) : null, erro.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-danger mt-4 text-center\",\n              children: erro\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 47\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 12\n  }, this);\n}\n\n_s(Perfil, \"xBEmWn3HYus0j9RHIVFfKnYbdWw=\");\n\n_c = Perfil;\nexport default Perfil;\n\nvar _c;\n\n$RefreshReg$(_c, \"Perfil\");","map":{"version":3,"sources":["C:/Programacao/CCB/Web/src/pages/perfil/index.jsx"],"names":["useEffect","useState","Navbar","api","Perfil","nome","setNome","email","setEmail","msg","setMsg","erro","setErro","ExibeMsg","setTimeout","ExibeErro","str","SalvarDados","patch","then","response","catch","err","data","get","localStorage","getItem","console","log","e","target","value","length"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Navbar from \"../../components/navbar\";\r\nimport api from '../../services/api';\r\n\r\nfunction Perfil(){\r\n\r\n    const [nome, setNome] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [msg, setMsg] = useState('');\r\n    const [erro, setErro] = useState('');\r\n\r\n    function ExibeMsg(){\r\n        setMsg('Dados alterados com sucesso');\r\n        setTimeout(() => setMsg(''), 3000);\r\n    }\r\n\r\n    function ExibeErro(str){\r\n        setErro(str);\r\n        setTimeout(() => setErro(''), 5000);\r\n    }\r\n\r\n    function SalvarDados(){\r\n        api.patch('/v1/usuarios', {\r\n            nome,\r\n            email\r\n        })\r\n        .then(response => {\r\n            ExibeMsg();\r\n        })\r\n        .catch(err => {\r\n            if (err.response) {\r\n                ExibeErro(err.response.data.erro);\r\n            } else {\r\n                ExibeErro('Ocorreu um erro na requisição.');\r\n            }\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        api.get(`/v1/usuarios/${localStorage.getItem(\"sessionId\")}`)\r\n        .then(response => {\r\n            setNome(response.data[0].nome);\r\n            setEmail(response.data[0].email);\r\n        })\r\n        .catch(err => console.log(err));\r\n    }, []);\r\n\r\n    return <div className=\"container-fluid mt-page\">\r\n        <Navbar />\r\n\r\n        <div className=\"row col-lg-6 offset-lg-3\">\r\n        \r\n            <div className=\"row m-2\">\r\n                <h3>Meu Perfil</h3>\r\n            </div>\r\n\r\n            <div className=\"row col-12\">\r\n                <div className=\"row m-2\">\r\n                    <form>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"InputNome\" className=\"form-label\">Nome</label>\r\n                            <input type=\"text\" onChange={(e) => setNome(e.target.value)} value={nome} className=\"form-control\" id=\"InputNome\" aria-describedby=\"nome\" />                    \r\n                        </div>\r\n                        <div className=\"mb-5\">\r\n                            <label htmlFor=\"InputEmail\" className=\"form-label\">E-mail</label>\r\n                            <input type=\"email\" onChange={(e) => setEmail(e.target.value)} value={email} className=\"form-control\" id=\"InputEmail\" aria-describedby=\"email\" />                    \r\n                        </div>\r\n\r\n                        <div className=\"d-flex justify-content-end\">\r\n                            <button type=\"button\" onClick={SalvarDados} className=\"btn btn-lg btn-danger\">Salvar Dados</button>\r\n                        </div>\r\n\r\n                        {\r\n                            msg.length > 0 ? <div className=\"alert alert-success mt-4 text-center\">{msg}</div> : null\r\n                        }\r\n\r\n                        {\r\n                            erro.length > 0 ? <div className=\"alert alert-danger mt-4 text-center\">{erro}</div> : null\r\n                        }\r\n                    </form>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Perfil;"]},"metadata":{},"sourceType":"module"}