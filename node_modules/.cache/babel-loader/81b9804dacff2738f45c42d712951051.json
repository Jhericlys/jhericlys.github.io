{"ast":null,"code":"import axios from 'axios';\nconst api = axios.create({\n  baseURL: 'http://200.6.137.202:9093' //   <<---- MUDE AQUI PARA A SUA API... \n\n}); // Intercepta as requisições antes de serem enviadas\n\napi.interceptors.request.use(req => {\n  if (localStorage.getItem('sessionToken')) {\n    req.headers.Authorization = `Bearer ${localStorage.getItem('sessionToken')}`;\n  }\n\n  return req;\n}, err => {\n  console.log(err);\n}); // Intercepta as respostas antes de serem retornadas\n\napi.interceptors.response.use(response => {\n  return response;\n}, error => {\n  // Verifica se o status da resposta é 401 (Não autorizado)\n  if (error.response.status === 401) {\n    // Remove o token de sessão do armazenamento local\n    localStorage.removeItem('sessionToken'); // Redireciona para a página de login\n\n    document.location = '/login';\n  }\n\n  return error;\n});\nexport default api;","map":{"version":3,"sources":["C:/Programacao/CCB/Web/src/services/api.js"],"names":["axios","api","create","baseURL","interceptors","request","use","req","localStorage","getItem","headers","Authorization","err","console","log","response","error","status","removeItem","document","location"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAa;AACrBC,EAAAA,OAAO,EAAE,2BADY,CACkB;;AADlB,CAAb,CAAZ,C,CAIA;;AACAF,GAAG,CAACG,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CAA6BC,GAAG,IAAI;AAChC,MAAIC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAJ,EAA0C;AACtCF,IAAAA,GAAG,CAACG,OAAJ,CAAYC,aAAZ,GAA6B,UAASH,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAqC,EAA3E;AACH;;AAED,SAAOF,GAAP;AACH,CAND,EAOCK,GAAD,IAAS;AACLC,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,CATD,E,CAWA;;AACAX,GAAG,CAACG,YAAJ,CAAiBW,QAAjB,CAA0BT,GAA1B,CAA8BS,QAAQ,IAAI;AACtC,SAAOA,QAAP;AACH,CAFD,EAEGC,KAAK,IAAI;AACR;AACA,MAAIA,KAAK,CAACD,QAAN,CAAeE,MAAf,KAA0B,GAA9B,EAAmC;AAC/B;AACAT,IAAAA,YAAY,CAACU,UAAb,CAAwB,cAAxB,EAF+B,CAG/B;;AACAC,IAAAA,QAAQ,CAACC,QAAT,GAAoB,QAApB;AACH;;AACD,SAAOJ,KAAP;AACH,CAXD;AAaA,eAAef,GAAf","sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'http://200.6.137.202:9093'   //   <<---- MUDE AQUI PARA A SUA API... \r\n});\r\n\r\n// Intercepta as requisições antes de serem enviadas\r\napi.interceptors.request.use(req => {\r\n    if (localStorage.getItem('sessionToken')) {\r\n        req.headers.Authorization = `Bearer ${localStorage.getItem('sessionToken')}`;\r\n    }\r\n\r\n    return req;\r\n},\r\n(err) => {\r\n    console.log(err);\r\n});\r\n\r\n// Intercepta as respostas antes de serem retornadas\r\napi.interceptors.response.use(response => {\r\n    return response;\r\n}, error => {\r\n    // Verifica se o status da resposta é 401 (Não autorizado)\r\n    if (error.response.status === 401) {\r\n        // Remove o token de sessão do armazenamento local\r\n        localStorage.removeItem('sessionToken');\r\n        // Redireciona para a página de login\r\n        document.location = '/login';\r\n    }\r\n    return error;\r\n});\r\n\r\nexport default api;\r\n"]},"metadata":{},"sourceType":"module"}