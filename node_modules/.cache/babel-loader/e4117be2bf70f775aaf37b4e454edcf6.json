{"ast":null,"code":"var _jsxFileName = \"C:\\\\Programacao\\\\CCB\\\\Web\\\\src\\\\components\\\\endereco\\\\modal\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport Modal from \"react-modal/lib/components/Modal\";\nimport closeIcone from '../../../assets/close.png';\nimport './style.css';\nimport api from '../../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nModal.setAppElement('#root');\n\nfunction EnderecoModal(props) {\n  _s();\n\n  const [id_endereco, setId_Endereco] = useState(0);\n  const [endereco, setEndereco] = useState('');\n  const [complemento, setComplemento] = useState('');\n  const [bairro, setBairro] = useState('');\n  const [cidades, setCidades] = useState([]);\n  const [cidade, setCidade] = useState('');\n  const [uf, setUF] = useState('');\n  const [cep, setCEP] = useState('');\n  const [codCidade, setCodCidade] = useState('');\n  const [ind_padrao, setInd_padrao] = useState('');\n  const [mensagem, setMensagem] = useState('');\n\n  function SalvarCidade(e) {\n    const [cid, est] = e.target[e.target.selectedIndex].text.split(\" - \");\n    setCidade(cid);\n    setUF(est);\n    setCodCidade(e.target.value);\n  }\n\n  function SalvarEndereco() {\n    setMensagem('');\n\n    if (id_endereco > 0) {\n      api.patch(`v1/usuarios/enderecos/${id_endereco}`, {\n        endereco,\n        complemento,\n        bairro,\n        cidade,\n        uf,\n        cep,\n        ind_padrao,\n        cod_cidade: codCidade\n      }).then(response => props.onRequestClose()).catch(err => {\n        if (err.response) {\n          setMensagem(err.response.data.erro);\n        } else {\n          setMensagem('Ocorreu um erro na requisição');\n        }\n      });\n    } else {\n      api.post(`v1/usuarios/enderecos`, {\n        endereco,\n        complemento,\n        bairro,\n        cidade,\n        uf,\n        cep,\n        ind_padrao,\n        cod_cidade: codCidade\n      }).then(response => props.onRequestClose()).catch(err => {\n        if (err.response) {\n          setMensagem(err.response.data.erro);\n        } else {\n          setMensagem('Ocorreu um erro na requisição');\n        }\n      });\n    }\n  }\n\n  useEffect(() => {\n    setId_Endereco(props.dados_endereco.id_endereco);\n    setEndereco(props.dados_endereco.endereco);\n    setComplemento(props.dados_endereco.complemento);\n    setBairro(props.dados_endereco.bairro);\n    setCidade(props.dados_endereco.cidade);\n    setUF(props.dados_endereco.uf);\n    setCEP(props.dados_endereco.cep);\n    setInd_padrao('N');\n    setCodCidade(props.dados_endereco.cod_cidade);\n    api.get('v1/cidades').then(response => setCidades(response.data)).catch(err => console.log(err));\n  }, [props.isOpen]);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: props.isOpen,\n    onRequestClose: props.onRequestClose,\n    overlayClassName: \"react-modal-overlay\",\n    className: \"react-modal-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: props.onRequestClose,\n      className: \"react-modal-close\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: closeIcone,\n        alt: \"Fechar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid h-100 endereco\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"mt-2 mb-4\",\n          children: \"Editar Endere\\xE7o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 col-8 d-inline-block\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"InputNome\",\n                className: \"form-label mb-1\",\n                children: \"Endere\\xE7o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                onChange: e => setEndereco(e.target.value),\n                value: endereco,\n                className: \"form-control mb-2\",\n                id: \"InputNome\",\n                \"aria-describedby\": \"nome\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 col-4 d-inline-block\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"InputNome\",\n                className: \"form-label mb-1\",\n                children: \"Compl.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                onChange: e => setComplemento(e.target.value),\n                value: complemento,\n                className: \"form-control mb-2\",\n                placeholder: \"Ex: Ap 62\",\n                id: \"InputNome\",\n                \"aria-describedby\": \"nome\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 col-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"InputNome\",\n                className: \"form-label mb-1\",\n                children: \"Bairro\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                onChange: e => setBairro(e.target.value),\n                value: bairro,\n                className: \"form-control mb-2\",\n                id: \"InputNome\",\n                \"aria-describedby\": \"nome\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"InputNome\",\n                className: \"form-label mb-1\",\n                children: \"Cidade\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-control mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  name: \"cidades\",\n                  id: \"cidades\",\n                  onChange: SalvarCidade,\n                  value: codCidade,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"0000000\",\n                    children: \"Escolha a cidade\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 41\n                  }, this), cidades.map(c => {\n                    return /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: c.cod_cidade,\n                      children: [c.cidade, \" - \", c.uf]\n                    }, c.cod_cidade, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 133,\n                      columnNumber: 52\n                    }, this);\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 col-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"InputNome\",\n                className: \"form-label mb-1\",\n                children: \"CEP\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                onChange: e => setCEP(e.target.value),\n                value: cep,\n                className: \"form-control\",\n                id: \"InputNome\",\n                \"aria-describedby\": \"nome\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 mt-3 d-flex justify-content-end align-items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: SalvarEndereco,\n            type: \"button mt-3\",\n            className: \"btn btn-lg btn-danger\",\n            children: \"Salvar Dados\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this), mensagem.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger mt-2 text-center\",\n        children: mensagem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 40\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 12\n  }, this);\n}\n\n_s(EnderecoModal, \"cAi5Q57aFEtJfTr8Z5LRRBTmZ9s=\");\n\n_c = EnderecoModal;\nexport default EnderecoModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"EnderecoModal\");","map":{"version":3,"sources":["C:/Programacao/CCB/Web/src/components/endereco/modal/index.jsx"],"names":["useEffect","useState","Modal","closeIcone","api","setAppElement","EnderecoModal","props","id_endereco","setId_Endereco","endereco","setEndereco","complemento","setComplemento","bairro","setBairro","cidades","setCidades","cidade","setCidade","uf","setUF","cep","setCEP","codCidade","setCodCidade","ind_padrao","setInd_padrao","mensagem","setMensagem","SalvarCidade","e","cid","est","target","selectedIndex","text","split","value","SalvarEndereco","patch","cod_cidade","then","response","onRequestClose","catch","err","data","erro","post","dados_endereco","get","console","log","isOpen","map","c","length"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Modal from \"react-modal/lib/components/Modal\";\r\nimport closeIcone from '../../../assets/close.png';\r\nimport './style.css';\r\nimport api from '../../../services/api';\r\n\r\nModal.setAppElement('#root');\r\n\r\nfunction EnderecoModal(props){\r\n\r\n    const [id_endereco, setId_Endereco] = useState(0);\r\n    const [endereco, setEndereco] = useState('');\r\n    const [complemento, setComplemento] = useState('');\r\n    const [bairro, setBairro] = useState('');\r\n    const [cidades, setCidades] = useState([]);\r\n    const [cidade, setCidade] = useState('');\r\n    const [uf, setUF] = useState('');\r\n    const [cep, setCEP] = useState('');\r\n    const [codCidade, setCodCidade] = useState('');\r\n    const [ind_padrao, setInd_padrao] = useState('');\r\n    const [mensagem, setMensagem] = useState('');\r\n\r\n    function SalvarCidade(e){\r\n        const [cid, est] = e.target[e.target.selectedIndex].text.split(\" - \");\r\n        setCidade(cid);\r\n        setUF(est);\r\n        setCodCidade(e.target.value);        \r\n    }\r\n\r\n    function SalvarEndereco(){\r\n\r\n        setMensagem('');\r\n\r\n        if (id_endereco > 0) {\r\n            api.patch(`v1/usuarios/enderecos/${id_endereco}`, {\r\n                endereco,\r\n                complemento,\r\n                bairro,\r\n                cidade,\r\n                uf,\r\n                cep,\r\n                ind_padrao,\r\n                cod_cidade: codCidade\r\n            })\r\n            .then(response => props.onRequestClose())\r\n            .catch(err => {\r\n                if (err.response){\r\n                    setMensagem(err.response.data.erro);\r\n                } else {\r\n                    setMensagem('Ocorreu um erro na requisição');\r\n                }\r\n            });\r\n        } else {\r\n            api.post(`v1/usuarios/enderecos`, {\r\n                endereco,\r\n                complemento,\r\n                bairro,\r\n                cidade,\r\n                uf,\r\n                cep,\r\n                ind_padrao,\r\n                cod_cidade: codCidade\r\n            })\r\n            .then(response => props.onRequestClose())\r\n            .catch(err => {\r\n                if (err.response){\r\n                    setMensagem(err.response.data.erro);\r\n                } else {\r\n                    setMensagem('Ocorreu um erro na requisição');\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setId_Endereco(props.dados_endereco.id_endereco);\r\n        setEndereco(props.dados_endereco.endereco);\r\n        setComplemento(props.dados_endereco.complemento);\r\n        setBairro(props.dados_endereco.bairro);\r\n        setCidade(props.dados_endereco.cidade);\r\n        setUF(props.dados_endereco.uf);\r\n        setCEP(props.dados_endereco.cep);\r\n        setInd_padrao('N');\r\n        setCodCidade(props.dados_endereco.cod_cidade);\r\n        \r\n        api.get('v1/cidades')\r\n        .then(response => setCidades(response.data))\r\n        .catch(err => console.log(err));\r\n\r\n    }, [props.isOpen]);    \r\n\r\n\r\n    return <Modal isOpen={props.isOpen}\r\n                  onRequestClose={props.onRequestClose}\r\n                  overlayClassName=\"react-modal-overlay\"\r\n                  className=\"react-modal-content\">\r\n            \r\n            <button type=\"button\" onClick={props.onRequestClose} className=\"react-modal-close\">\r\n                <img src={closeIcone} alt=\"Fechar\" />\r\n            </button>\r\n\r\n            <div className=\"container-fluid h-100 endereco\">\r\n                <div className=\"col-12 mt-4\">\r\n                    <h4 className=\"mt-2 mb-4\">Editar Endereço</h4>\r\n\r\n                    <form>\r\n                        <div className=\"row\">\r\n                            <div className=\"mb-3 col-8 d-inline-block\">\r\n                                <label htmlFor=\"InputNome\" className=\"form-label mb-1\">Endereço</label>\r\n                                <input type=\"text\" onChange={(e) => setEndereco(e.target.value)} value={endereco} className=\"form-control mb-2\" id=\"InputNome\" aria-describedby=\"nome\" />                    \r\n                            </div>\r\n                            <div className=\"mb-3 col-4 d-inline-block\">\r\n                                <label htmlFor=\"InputNome\" className=\"form-label mb-1\">Compl.</label>\r\n                                <input type=\"text\" onChange={(e) => setComplemento(e.target.value)} value={complemento} className=\"form-control mb-2\" placeholder=\"Ex: Ap 62\" id=\"InputNome\" aria-describedby=\"nome\" />                    \r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"row\">\r\n                            <div className=\"mb-3 col-12\">\r\n                                <label htmlFor=\"InputNome\" className=\"form-label mb-1\">Bairro</label>\r\n                                <input type=\"text\" onChange={(e) => setBairro(e.target.value)} value={bairro} className=\"form-control mb-2\" id=\"InputNome\" aria-describedby=\"nome\" />                    \r\n                            </div>                                \r\n                        </div>\r\n\r\n                        <div className=\"row\">\r\n                            <div className=\"col-12\">\r\n                                <label htmlFor=\"InputNome\" className=\"form-label mb-1\">Cidade</label>\r\n                                <div className=\"form-control mb-3\">\r\n                                    <select name=\"cidades\" id=\"cidades\" onChange={SalvarCidade} value={codCidade}>\r\n                                        <option value=\"0000000\">Escolha a cidade</option>\r\n\r\n                                        {cidades.map(c => {\r\n                                            return <option value={c.cod_cidade} key={c.cod_cidade}>{c.cidade} - {c.uf}</option>\r\n                                        })}\r\n                                                                                                                        \r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"row\">\r\n                            <div className=\"mb-3 col-12\">\r\n                                <label htmlFor=\"InputNome\" className=\"form-label mb-1\">CEP</label>\r\n                                <input type=\"text\" onChange={(e) => setCEP(e.target.value)} value={cep} className=\"form-control\" id=\"InputNome\" aria-describedby=\"nome\" />                    \r\n                            </div>                                \r\n                        </div>\r\n                    </form>\r\n\r\n                </div>\r\n\r\n                <div className=\"row mb-3\">\r\n                    <div className=\"col-12 mt-3 d-flex justify-content-end align-items-center\">                       \r\n                        <button onClick={SalvarEndereco} type=\"button mt-3\" className=\"btn btn-lg btn-danger\">Salvar Dados</button>\r\n                    </div>\r\n                </div>\r\n\r\n                {mensagem.length > 0 ? <div className=\"alert alert-danger mt-2 text-center\">{mensagem}</div> : null}\r\n\r\n            </div>\r\n\r\n    </Modal>\r\n}\r\n\r\nexport default EnderecoModal;"]},"metadata":{},"sourceType":"module"}