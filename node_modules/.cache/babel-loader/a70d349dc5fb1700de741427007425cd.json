{"ast":null,"code":"var _jsxFileName = \"C:\\\\Programacao\\\\CCB\\\\Web\\\\src\\\\pages\\\\enderecos\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport Navbar from \"../../components/navbar\";\nimport Endereco from \"../../components/endereco/lista\";\nimport api from '../../services/api';\nimport EnderecoModal from \"../../components/endereco/modal\";\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Enderecos() {\n  _s();\n\n  const [enderecos, setEnderecos] = useState([]);\n  const [isEnderecoOpen, setIsEnderecoOpen] = useState(false);\n  const [dadosEndereco, setDadosEndereco] = useState([]);\n\n  function ListarEnderecos() {\n    api.get('/v1/usuarios/enderecos').then(response => setEnderecos(response.data)).catch(err => console.log(err));\n  }\n\n  function openModalEndereco(id) {\n    //console.log(id);\n    if (id > 0) {\n      api.get(`v1/usuarios/enderecos/${id}`).then(response => {\n        setDadosEndereco(response.data[0]);\n        setIsEnderecoOpen(true);\n      }).catch(err => console.log(err));\n    } else {\n      setDadosEndereco([]);\n      setIsEnderecoOpen(true);\n    }\n  }\n\n  function closeModalEndereco() {\n    setIsEnderecoOpen(false);\n    ListarEnderecos();\n  }\n\n  function ExcluirEndereco(id) {\n    confirmAlert({\n      title: 'Exclusão',\n      message: 'Confirma a exclusão do endereço?',\n      buttons: [{\n        label: 'Sim',\n        onClick: () => {\n          api.delete(`v1/usuarios/enderecos/${id}`).then(response => ListarEnderecos()).catch(err => console.log(err));\n        }\n      }, {\n        label: 'Não',\n        onClick: () => {}\n      }]\n    });\n  }\n\n  function EnderecoPadrao(id) {\n    api.patch(`v1/usuarios/enderecos/padrao/${id}`).then(response => ListarEnderecos()).catch(err => console.log(err));\n  }\n\n  useEffect(() => ListarEnderecos(), []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid mt-page\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(EnderecoModal, {\n      isOpen: isEnderecoOpen,\n      onRequestClose: closeModalEndereco,\n      dados_endereco: dadosEndereco\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row col-lg-6 offset-lg-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 mt-4 d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"mt-2\",\n          children: \"Meus Endere\\xE7os\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => openModalEndereco(0),\n          className: \"btn btn-sm btn-outline-danger\",\n          children: \"Adicionar endere\\xE7o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mt-5\",\n        children: enderecos.map(endereco => {\n          return /*#__PURE__*/_jsxDEV(Endereco, {\n            id_endereco: endereco.id_endereco,\n            endereco: endereco.endereco,\n            complemento: endereco.complemento,\n            bairro: endereco.bairro,\n            cidade: endereco.cidade,\n            uf: endereco.uf,\n            cep: endereco.cep,\n            ind_padrao: endereco.ind_padrao,\n            onClickEditEndereco: openModalEndereco,\n            onClickDeleteEndereco: ExcluirEndereco,\n            onClickEnderecoPadrao: EnderecoPadrao\n          }, endereco.id_endereco, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 32\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 12\n  }, this);\n}\n\n_s(Enderecos, \"jxgbg7XiWjB6ntXrTNQVXzEGz38=\");\n\n_c = Enderecos;\nexport default Enderecos;\n\nvar _c;\n\n$RefreshReg$(_c, \"Enderecos\");","map":{"version":3,"sources":["C:/Programacao/CCB/Web/src/pages/enderecos/index.jsx"],"names":["useEffect","useState","Navbar","Endereco","api","EnderecoModal","confirmAlert","Enderecos","enderecos","setEnderecos","isEnderecoOpen","setIsEnderecoOpen","dadosEndereco","setDadosEndereco","ListarEnderecos","get","then","response","data","catch","err","console","log","openModalEndereco","id","closeModalEndereco","ExcluirEndereco","title","message","buttons","label","onClick","delete","EnderecoPadrao","patch","e","map","endereco","id_endereco","complemento","bairro","cidade","uf","cep","ind_padrao"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Navbar from \"../../components/navbar\";\r\nimport Endereco from \"../../components/endereco/lista\";\r\nimport api from '../../services/api';\r\nimport EnderecoModal from \"../../components/endereco/modal\";\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport 'react-confirm-alert/src/react-confirm-alert.css';\r\n\r\nfunction Enderecos(){\r\n\r\n    const [enderecos, setEnderecos] = useState([]);\r\n    const [isEnderecoOpen, setIsEnderecoOpen] = useState(false);\r\n    const [dadosEndereco, setDadosEndereco] = useState([]);\r\n\r\n    function ListarEnderecos(){\r\n        api.get('/v1/usuarios/enderecos')\r\n        .then(response => setEnderecos(response.data))\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    function openModalEndereco(id){\r\n\r\n        //console.log(id);\r\n\r\n        if (id > 0) {\r\n            api.get(`v1/usuarios/enderecos/${id}`)\r\n            .then(response => {\r\n                setDadosEndereco(response.data[0]);\r\n                setIsEnderecoOpen(true);\r\n            })\r\n            .catch(err => console.log(err));\r\n        } else {\r\n            setDadosEndereco([]);\r\n            setIsEnderecoOpen(true);\r\n        }\r\n        \r\n    }\r\n\r\n    function closeModalEndereco(){\r\n        setIsEnderecoOpen(false);\r\n        ListarEnderecos();\r\n    }\r\n\r\n    function ExcluirEndereco(id){\r\n\r\n        confirmAlert({\r\n            title: 'Exclusão',\r\n            message: 'Confirma a exclusão do endereço?',\r\n            buttons: [\r\n              {\r\n                label: 'Sim',\r\n                onClick: () => {\r\n                    api.delete(`v1/usuarios/enderecos/${id}`)\r\n                    .then(response => ListarEnderecos())\r\n                    .catch(err => console.log(err));\r\n                }\r\n              },\r\n              {\r\n                label: 'Não',\r\n                onClick: () => {}\r\n              }\r\n            ]\r\n          });\r\n        \r\n    }\r\n\r\n    function EnderecoPadrao(id){\r\n        api.patch(`v1/usuarios/enderecos/padrao/${id}`)\r\n            .then(response => ListarEnderecos())\r\n            .catch(err => console.log(err));\r\n    }\r\n \r\n    useEffect(() => ListarEnderecos(), []);\r\n\r\n    return <div className=\"container-fluid mt-page\">\r\n        <Navbar />\r\n\r\n        <EnderecoModal isOpen={isEnderecoOpen} \r\n                       onRequestClose={closeModalEndereco}\r\n                       dados_endereco={dadosEndereco} />\r\n\r\n        <div className=\"row col-lg-6 offset-lg-3\">\r\n\r\n            <div className=\"col-12 mt-4 d-flex justify-content-between\">\r\n                <h2 className=\"mt-2\">Meus Endereços</h2>\r\n                <button onClick={(e) => openModalEndereco(0)} className=\"btn btn-sm btn-outline-danger\">Adicionar endereço</button>\r\n            </div>\r\n\r\n            <div className=\"row mt-5\">\r\n                {\r\n                    enderecos.map(endereco => {\r\n                        return <Endereco key={endereco.id_endereco}\r\n                                         id_endereco={endereco.id_endereco}\r\n                                         endereco={endereco.endereco}\r\n                                         complemento={endereco.complemento}\r\n                                         bairro={endereco.bairro}\r\n                                         cidade={endereco.cidade}\r\n                                         uf={endereco.uf}\r\n                                         cep={endereco.cep}\r\n                                         ind_padrao={endereco.ind_padrao}\r\n                                         onClickEditEndereco={openModalEndereco}\r\n                                         onClickDeleteEndereco={ExcluirEndereco}\r\n                                         onClickEnderecoPadrao={EnderecoPadrao} />\r\n                    })\r\n                }\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Enderecos;"]},"metadata":{},"sourceType":"module"}